# OCR 결과 TXT 저장 기능 요약

- 날짜: 2025-11-03 09:30:00
- 작업: OCR저장

## 요구사항

1. 파일명: Rummikub_rulebook_ocr.txt
2. 첫 줄: <PAGE_LEN: {$page_len}>\n
3. 각 페이지: <PAGE: {$page_num}>\n{$page_text}
4. 저장 위치: 입력 PDF와 동일 디렉터리

## 구현 내용

- `loaders/pdf_ocr_loader.py`
  - 파일 열기 컨텍스트 매니저 적용 및 HTTP 에러 처리(`raise_for_status`).
  - `save_to_txt(document, pdf_path, output_filename)` 추가: 요구 포맷으로 파일 생성.
  - `__main__`에 저장 호출 연결, 저장 경로 출력.

## 비고

- 환경 변수 `UPSTAGE_API_KEY` 사용(값은 노출하지 않음).
- 페이지 수는 우선 `document['pages']` 길이, 없을 경우 `document['metadata']['pages']` 길이로 보완.

## 품질 게이트

- Build: PASS (구문 오류 없음)
- Lint/Typecheck: PASS (모듈 내 참조 정상)
- Tests: N/A (샘플 실행 경로에서 수동 확인 필요)
